(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{114:function(e,t,n){},119:function(e,t,n){},229:function(e,t,n){"use strict";n.r(t);var o=n(4);n(230);var a={apiKey:"AIzaSyD_LYr2gwSUFt1jGQWI7KCVa2ncw1HxiJE",authDomain:"evernote-rep.firebaseapp.com",projectId:"evernote-rep",storageBucket:"evernote-rep.appspot.com",messagingSenderId:"320210903274",appId:"1:320210903274:web:bae74e1b862a98933ef793",measurementId:"G-X8V1V4HSM7"};o.b.initializeApp(a)},232:function(e,t,n){"use strict";n.r(t);var o=n(7),a=n(2),i=n.n(a),s=n(16),c=n.n(s),r=(n(114),n(47)),l=n.n(r),d=n(100),u=n(70),p=n(30),x=n(31),b=n(34),h=n(32),f=n(27),N=n(255),j=(n(119),n(10)),m=n(252),v=n(253),g=n(254),w=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},newChatBtn:{borderRadius:"0px"},unreadMessage:{color:"red",position:"absolute",top:"0",right:"5px"},newNoteBtn:{width:"100%",height:"35px",borderBottom:"1px solid black",borderRadius:"0px",backgroundColor:"#29487d",color:"white","&:hover":{backgroundColor:"#88a2ce"}},sidebarContainer:{marginTop:"0px",width:"300px",height:"100vh",boxSizing:"border-box",float:"left",overflowY:"scroll",overflowX:"hidden"},newNoteInput:{width:"100%",margin:"0px",height:"35px",outline:"none",border:"none",paddingLeft:"5px","&:focus":{outline:"2px solid rgba(81, 203, 238, 1)"}},newNoteSubmitBtn:{width:"100%",backgroundColor:"#28787c",borderRadius:"0px",color:"white"}}},O=n(101),S=n(250),k=n(256),y=n(98),I=n.n(y),C=function(e){return{listItem:{cursor:"pointer"},textSection:{maxWidth:"85%"},deleteIcon:{position:"absolute",right:"5px",top:"calc(50% - 15px)","&:hover":{color:"red"}}}};var B=Object(j.a)(C)((function(e){var t,n=e._index,a=e._note,i=e.classes,s=e.selectedNoteIndex,c=Object(O.a)(e,["_index","_note","classes","selectedNoteIndex"]);return Object(o.jsx)("div",{children:Object(o.jsxs)(S.a,{className:i.listItem,selected:s===n,alignItems:"flex-start",onClick:function(){return e=a,t=n,void c.selectNote(e,t);var e,t},children:[Object(o.jsx)("div",{className:i.textSection,children:Object(o.jsx)(k.a,{primary:a.title,secondary:(t=a.body.substring(0,30)+"...",t.replace(/<[^>]*>?/gm,""))})}),Object(o.jsx)(I.a,{className:i.deleteIcon,onClick:function(){var e;e=a,window.confirm("Are you sure you want to delete ".concat(e.title))&&c.deleteNote(e)}})]})},n)})),D=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).newNoteBtnClick=function(){e.setState({addingNote:!e.state.addingNote,title:null})},e.updateTitle=function(t){e.setState({title:t})},e.newNote=function(){var t=e.state.title;t&&t.length>0?(e.props.newNote(e.state.title),e.setState({title:null,addingNote:!1})):e.setState({openSnack:!0})},e.deleteNote=function(t){e.props.deleteNote(t)},e.selectNote=function(t,n){return e.props.selectNote(t,n)},e.handleClose=function(t,n){"clickaway"!==n&&e.setState({openSnack:!1})},e.state={addingNote:!1,title:null,openSnack:!1},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.notes,a=t.classes,i=t.selectedNoteIndex,s=this.state,c=s.addingNote,r=s.openSnack;return n?Object(o.jsxs)("div",{className:a.sidebarContainer,children:[Object(o.jsx)(m.a,{onClick:this.newNoteBtnClick,className:a.newNoteBtn,children:c?"Cancel":"New Note"}),Object(o.jsx)(N.a,{open:r,onClose:this.handleClose,message:"Please enter a title.",autoHideDuration:3e3}),c&&Object(o.jsxs)("div",{children:[Object(o.jsx)("input",{type:"text",className:a.newNoteInput,placeholder:"Enter note title",onKeyUp:function(t){return e.updateTitle(t.target.value)}}),Object(o.jsx)(m.a,{className:a.newNoteSubmitBtn,onClick:this.newNote,children:"Submit Note"})]}),Object(o.jsx)(v.a,{children:n.length>0&&n.map((function(t,n){return Object(o.jsxs)("div",{children:[Object(o.jsx)(B,{_note:t,_index:n,selectedNoteIndex:i,selectNote:e.selectNote,deleteNote:e.deleteNote}),Object(o.jsx)(g.a,{})]},n)}))})]}):Object(o.jsx)("div",{})}}]),n}(i.a.Component),T=Object(j.a)(w)(D),U=n(99),_=n.n(U),z=function(e){return{root:{backgroundColor:e.palette.background.paper,height:"calc(100% - 35px)",position:"absolute",left:"0",width:"300px",boxShadow:"0px 0px 2px black"},titleInput:{height:"50px",boxSizing:"border-box",border:"none",padding:"5px",fontSize:"24px",width:"calc(100% - 300px)",backgroundColor:"#29487d",color:"white",paddingLeft:"50px"},editIcon:{position:"absolute",left:"310px",top:"12px",color:"white",width:"10",height:"10"},editorContainer:{height:"100%",boxSizing:"border-box"}}},V=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).componentDidMount=function(){var t=e.props.selectedNote,n=t.body,o=t.title,a=t.id;e.setState({text:n,title:o,id:a})},e.componentDidUpdate=function(){var t=e.props.selectedNote,n=t.body,o=t.title,a=t.id;a!==e.state.id&&e.setState({text:n,title:o,id:a})},e.updateBody=function(t){e.setState({text:t}),e.update()},e.update=function(e,t,n){var o,a;return function(){function i(){o=null,n||(a=e.apply(s,c))}var s=this,c=arguments;return clearTimeout(o),o=setTimeout(i,t),n&&!o&&(a=e.apply(s,c)),a}}((function(){e.props.noteUpdate(e.state.id,{title:e.state.title,body:e.state.text})}),2e3),e.state={text:"",title:"",id:""},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this.props.classes,t=this.state.text;return Object(o.jsx)("div",{className:e.editorContainer,children:Object(o.jsx)(_.a,{value:t,onChange:this.updateBody})})}}]),n}(i.a.Component),M=Object(j.a)(z)(V),F=function(e){Object(b.a)(n,e);var t=Object(h.a)(n);function n(){var e;return Object(p.a)(this,n),(e=t.call(this)).componentDidMount=function(){f.a.firestore().collection("notes").onSnapshot((function(t){var n=t.docs.map((function(e){var t=e.data();return t.id=e.id,t}));e.setState({notes:n})}))},e.selectNote=function(t,n){return e.setState({selectedNoteIndex:n,selectedNote:t})},e.noteUpdate=function(e,t){f.a.firestore().collection("notes").doc(e).update({title:t.title,body:t.body,timestamp:f.a.firestore.FieldValue.serverTimestamp()})},e.newNote=function(){var t=Object(u.a)(l.a.mark((function t(n){var o,a,i,s;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o={title:n,body:"",timestamp:f.a.firestore.FieldValue.serverTimestamp()},t.next=3,f.a.firestore().collection("notes").add({title:o.title,body:o.body,timestamp:f.a.firestore.FieldValue.serverTimestamp()});case 3:return a=t.sent,i=a.id,t.next=7,e.setState({notes:[].concat(Object(d.a)(e.state.notes),[o])});case 7:s=e.state.notes.indexOf(e.state.notes.filter((function(e){return e.id===i}))[0]),e.setState({selectNote:e.state.notes[s],selectedNoteIndex:s});case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.deleteNote=function(){var t=Object(u.a)(l.a.mark((function t(n){var o;return l.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return o=e.state.notes.indexOf(n),t.next=3,e.setState({notes:e.state.notes.filter((function(e){return e!==n})),openSnack:!0});case 3:e.state.selectedNoteIndex===o?e.setState({selectedNoteIndex:null,selectedNote:null}):e.state.notes.length>1?e.selectNote(e.state.notes[e.state.selectedNoteIndex-1],e.state.selectedNoteIndex-1):e.setState({selectedNoteIndex:null,selectedNote:null}),f.a.firestore().collection("notes").doc(n.id).delete();case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.handleClose=function(t,n){"clickaway"!==n&&e.setState({openSnack:!1})},e.state={selectedNoteIndex:null,selectedNote:null,notes:null,openSnack:!1},e}return Object(x.a)(n,[{key:"render",value:function(){var e=this.state,t=e.notes,n=e.selectedNoteIndex,a=e.selectedNote,i=e.openSnack;return Object(o.jsxs)("div",{children:[Object(o.jsx)(N.a,{open:i,handleClose:this.handleClose,message:"Note Deletion Success.",autoHideDuration:3e3}),Object(o.jsx)(T,{selectedNoteIndex:n,notes:t,selectNote:this.selectNote,newNote:this.newNote,deleteNote:this.deleteNote}),a&&Object(o.jsx)(M,{selectedNote:a,selectedNoteIndex:n,notes:t,noteUpdate:this.noteUpdate})]})}}]),n}(i.a.Component);n(229),c.a.render(Object(o.jsx)(i.a.StrictMode,{children:Object(o.jsx)(F,{})}),document.getElementById("root"))}},[[232,1,2]]]);
//# sourceMappingURL=main.424ff536.chunk.js.map